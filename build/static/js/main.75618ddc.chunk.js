(this["webpackJsonpproject-flashcards"]=this["webpackJsonpproject-flashcards"]||[]).push([[0],{35:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(18),s=c.n(a),i=c(5),d=c(3),o=c(0);var j=function(){return Object(o.jsx)("header",{className:"jumbotron bg-dark",children:Object(o.jsxs)("div",{className:"container text-white",children:[Object(o.jsx)("h1",{className:"display-4",children:"Flashcard-o-matic"}),Object(o.jsx)("p",{className:"lead",children:"Discover The Flashcard Difference."})]})})},b=c(2);var u=function(){return Object(o.jsx)("div",{className:"NotFound",children:Object(o.jsx)("h1",{children:"Not Found"})})},h=c(7),l=c(4),O=c.n(l),f=c(11),p=c(20),x=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_BASE_URL||"http://localhost:5000",k=new Headers;function v(e){e.cards;return Object(p.a)(e,["cards"])}function m(e,t){return g.apply(this,arguments)}function g(){return(g=Object(f.a)(O.a.mark((function e(t,c){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,c);case 3:if(!((n=e.sent).status<200||n.status>399)){e.next=6;break}throw new Error("".concat(n.status," - ").concat(n.statusText));case 6:return e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(0),"AbortError"===e.t0.name){e.next=15;break}throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function w(){return(w=Object(f.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(x,"/decks?_embed=cards"),e.next=3,m(c,{signal:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(f.a)(O.a.mark((function e(t,c){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(x,"/decks"),r={method:"POST",headers:k,body:JSON.stringify(v(t)),signal:c},e.next=4,m(n,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return E.apply(this,arguments)}function E(){return(E=Object(f.a)(O.a.mark((function e(t,c){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(x,"/decks/").concat(t,"?_embed=cards"),e.next=3,m(n,{signal:c});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(f.a)(O.a.mark((function e(t,c){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(x,"/decks/").concat(t.id,"?_embed=cards"),r={method:"PUT",headers:k,body:JSON.stringify(v(t)),signal:c},e.next=4,m(n,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return A.apply(this,arguments)}function A(){return(A=Object(f.a)(O.a.mark((function e(t,c){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(x,"/decks/").concat(t),r={method:"DELETE",signal:c},e.next=4,m(n,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(f.a)(O.a.mark((function e(t,c,n){var r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(x,"/cards"),c.deckId=Number(t),a={method:"POST",headers:k,body:JSON.stringify(c),signal:n},e.next=5,m(r,a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){return I.apply(this,arguments)}function I(){return(I=Object(f.a)(O.a.mark((function e(t,c){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(x,"/cards/").concat(t),e.next=3,m(n,{signal:c});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(f.a)(O.a.mark((function e(t,c){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(x,"/cards/").concat(t.id),r={method:"PUT",headers:k,body:JSON.stringify(t)},e.next=4,m(n,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(f.a)(O.a.mark((function e(t,c){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(x,"/cards/").concat(t),r={method:"DELETE",signal:c},e.next=4,m(n,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return null}function H(e){var t=e.newOrEdit,c=e.deck;return Object(o.jsxs)("div",{children:[Object(o.jsx)(b.b,{to:"new"===t?"/":"/decks/".concat(c.id),className:"btn",children:"Cancel"}),Object(o.jsx)("button",{type:"submit",children:"Submit"})]})}function L(e){var t=e.newOrEdit,c=e.apiRefresh,r=e.setApiRefresh,a=e.deck;console.log(typeof a,"type of of deck"),console.log(t,"neworeditState");var s=Object(i.f)();console.log(a,"deck");var j="edit"===t?a.name:"",b="edit"===t?a.description:"";console.log(j,"name",b,"desc");var u=Object(n.useState)({name:j,description:b}),l=Object(d.a)(u,2),O=l[0],f=l[1];Object(n.useEffect)((function(){"edit"===t&&!O.name&&a.name&&f({name:a.name,description:a.description})}),[t,O.name,a.name,a.description]),console.log(O,"deckFormContent");var p=function(){(function(e,t){return R.apply(this,arguments)})(Object(h.a)({},O)).then((function(e){r(c+1),s.push("/decks/".concat(e.id))}))},x=function(){(function(e,t){return S.apply(this,arguments)})(Object(h.a)(Object(h.a)({},O),{},{id:a.id})).then((function(e){r(c+1),s.push("/decks/".concat(e.id))}))};return Object(o.jsxs)("form",{onSubmit:"edit"===t?function(e){e.preventDefault(),x()}:function(e){e.preventDefault(),p()},children:[Object(o.jsxs)("label",{children:["Name",Object(o.jsx)("textarea",{defaultValue:O.name,onChange:function(e){var t=e.target;f(Object(h.a)(Object(h.a)({},O),{},{name:t.value})),console.log("handlechangecalled")},placeholder:"Deck Name"})]}),Object(o.jsx)("br",{}),Object(o.jsxs)("label",{children:["Description",Object(o.jsx)("textarea",{defaultValue:O.description,onChange:function(e){var t=e.target;console.log("loghandlechangecalled"),f(Object(h.a)(Object(h.a)({},O),{},{description:t.value}))},placeholder:"Brief description of the deck"})]}),Object(o.jsx)("br",{}),Object(o.jsx)(H,{newOrEdit:t,deck:a})]})}function P(e){var t=e.newOrEdit,c=e.setDeck,n=e.deck,r=e.apiRefresh,a=e.setApiRefresh;return Object(o.jsxs)("div",{children:[Object(o.jsx)(L,{setDeck:c,deck:n,apiRefresh:r,setApiRefresh:a,newOrEdit:t}),Object(o.jsx)(F,{})]})}k.append("Content-Type","application/json");var J=function(e){var t=e.apiRefresh,c=e.setApiRefresh,r=Object(n.useState)("new"),a=Object(d.a)(r,2),s=a[0],i=a[1],j=Object(n.useState)([]),u=Object(d.a)(j,2),h=u[0],l=u[1];return Object(n.useEffect)((function(){i("new")}),[]),Object(o.jsxs)("div",{children:[Object(o.jsxs)("h5",{children:[Object(o.jsx)(b.b,{to:"/",children:"Home"}),"/ Create Deck"]}),Object(o.jsx)("h3",{children:"Create Deck"}),Object(o.jsx)(P,{newOrEdit:s,deck:h,apiRefresh:t,setApiRefresh:c,setDeck:l})]})};var B=function(e){var t=Object(n.useState)([]),c=Object(d.a)(t,2),r=c[0],a=c[1],s=e.apiRefresh,i=e.setApiRefresh;function j(e){e.preventDefault();var t=e.target.getAttribute("data-arg1");window.confirm("Delete this deck? You will not be able to recover it.")&&C(t).then((function(e){i(s+1)}))}Object(n.useEffect)((function(){(function(e){return w.apply(this,arguments)})().then(a)}),[s]);var u=r.map((function(e,t){return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"".concat(e.name)}),Object(o.jsx)("p",{children:"".concat(e.cards?e.cards.length:"0"," cards")}),Object(o.jsx)("br",{}),Object(o.jsx)("p",{children:e.description}),Object(o.jsx)(b.b,{to:"/decks/".concat(e.id),className:"btn btn-dark",children:"View"}),Object(o.jsx)(b.b,{to:"/decks/".concat(e.id,"/study"),className:"btn btn-dark",children:"Study"}),Object(o.jsx)("button",{onClick:j,"data-arg1":e.id,children:"Delete"})]},t)}));return Object(o.jsx)(n.Fragment,{children:u})};var U=function(e){var t=e.apiRefresh,c=e.setApiRefresh,r=Object(n.useState)({name:"no deck",cards:[]}),a=Object(d.a)(r,2),s=a[0],j=a[1],u=Object(i.f)(),h=Object(i.g)().deckId;function l(e){return Object(o.jsx)("div",{children:s.cards.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:e.front}),Object(o.jsx)("p",{children:e.back}),Object(o.jsx)(b.b,{to:"/decks/".concat(s.id,"/cards/").concat(e.id,"/edit"),children:"Edit"}),Object(o.jsx)("button",{type:"button",onClick:O,"data-Arg1":e.id,children:"Delete"})]},t)}))})}Object(n.useEffect)((function(){y(h).then((function(e){j(e)}))}),[t,h]);var O=function(e){var n=e.target.getAttribute("data-arg1");window.confirm("Delete this card? You will not be able to recover it.")&&function(e,t){return _.apply(this,arguments)}(n).then((function(e){c(t+1)}))};return Object(o.jsxs)("div",{children:[Object(o.jsxs)("h5",{children:[Object(o.jsx)(b.b,{to:"/",children:"Home"}),"/".concat(s.name)]}),Object(o.jsx)("h2",{children:s.name}),Object(o.jsx)("p",{children:s.description}),Object(o.jsx)(b.b,{to:"/decks/".concat(h,"/edit"),className:"btn",children:"Edit"}),Object(o.jsx)(b.b,{to:"/decks/".concat(h,"/study"),className:"btn",children:"Study"}),Object(o.jsx)(b.b,{to:"/decks/".concat(h,"/cards/new"),className:"btn",children:"Add Cards"}),Object(o.jsx)("button",{type:"button",onClick:function(){return e=s.id,void(window.confirm("Delete this deck? You will not be able to recover it.")&&C(e).then((function(e){u.push("/")})));var e},children:"Delete"}),Object(o.jsx)("h2",{children:"Cards"}),Object(o.jsx)(l,{})]})};var V=function(e){var t=e.apiRefresh,c=e.setApiRefresh,r=Object(i.g)().deckId,a=Object(n.useState)({}),s=Object(d.a)(a,2),j=s[0],u=s[1],h=Object(n.useState)("edit"),l=Object(d.a)(h,1)[0];return Object(n.useEffect)((function(){y(r).then(u)}),[r,t]),console.log(j,"deck"),Object(o.jsxs)("div",{children:[Object(o.jsxs)("h5",{children:[Object(o.jsx)(b.b,{to:"/",children:"Home"}),"/",Object(o.jsx)(b.b,{to:"/decks/".concat(j.id),children:"".concat(j.name,"/")}),"Edit Deck"]}),Object(o.jsx)("h2",{children:"Edit Deck"}),Object(o.jsx)(P,{newOrEdit:l,setApiRefresh:c,apiRefresh:t,deck:j})]})};var Y=function(e){var t=Object(i.g)().deckId,c=Object(n.useState)({}),r=Object(d.a)(c,2),a=r[0],s=r[1],j=e.apiRefresh;return Object(n.useEffect)((function(){y(t).then(s)}),[j,t]),Object(o.jsxs)("div",{children:[Object(o.jsxs)("h5",{children:[Object(o.jsx)(b.b,{to:"/",children:"Home"}),"/",Object(o.jsx)(b.b,{to:"/decks/".concat(a.id),children:"".concat(a.name)}),"/ Study"]}),Object(o.jsxs)("h2",{children:[a.name,": Study"]})]})};var K=function(e){var t=Object(i.g)().deckId,c=e.deckLength;return Object(o.jsxs)("div",{children:[Object(o.jsx)("h4",{children:"Not Enough Cards."}),Object(o.jsxs)("p",{children:["You need at least 3 cards to study. There are ",c," in this deck."]}),Object(o.jsx)(b.b,{to:"/decks/".concat(t,"/cards/new"),children:"Add Cards"})]})};var W=function(e){var t=e.cardOfDeck,c=e.deckLength,r=e.setCardOfDeck,a=e.card,s=void 0===a?{}:a,j=Object(n.useState)(!1),b=Object(d.a)(j,2),u=b[0],h=b[1],l=Object(n.useState)(!0),O=Object(d.a)(l,2),f=O[0],p=O[1],x=Object(i.f)();function k(){t+1!==c?(h(!1),p(!0),r(t+1)):window.confirm("Restart cards? Click 'cancel to return to the home page.")?(r(0),h(!1),p(!0)):x.push("/")}function v(){!1===u&&h(!0),p(!f)}return!0===f?Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:"Card ".concat(t+1," of ").concat(c)}),Object(o.jsx)("p",{children:s.front}),Object(o.jsx)("button",{type:"button",onClick:v,children:"Flip"}),t+1!==c&&!0===u?Object(o.jsx)("button",{type:"button",onClick:k,children:"Next"}):null]}):Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:"Card ".concat(t+1," of ").concat(c)}),Object(o.jsx)("p",{children:s.back}),Object(o.jsx)("button",{type:"button",onClick:v,children:"Flip"}),Object(o.jsx)("button",{type:"button",onClick:k,children:"Next"})]})};var M=function(e){var t=Object(i.g)().deckId,c=Object(n.useState)({cards:[]}),r=Object(d.a)(c,2),a=r[0],s=r[1],j=Object(n.useState)(0),b=Object(d.a)(j,2),u=b[0],h=b[1],l=Object(n.useState)({}),O=Object(d.a)(l,2),f=O[0],p=O[1],x=e.setApiRefresh,k=e.apiRefresh,v=a.cards.length;return Object(n.useEffect)((function(){y(t).then(s)}),[k,t]),Object(n.useEffect)((function(){console.log(a),a.cards.length>0&&(console.log("deck cards have loaded"),console.log("card of deck id",a.cards[u]),N(a.cards[u].id).then((function(e){console.log(e),p(e)})))}),[a,u]),v>2?Object(o.jsxs)("div",{children:[Object(o.jsx)(Y,{setApiRefresh:x}),Object(o.jsx)(W,{cardOfDeck:u,setCardOfDeck:h,card:f,deck:a,deckLength:v})]}):Object(o.jsxs)("div",{children:[Object(o.jsx)(Y,{setApiRefresh:x}),Object(o.jsx)(K,{deckId:t,deckLength:v})]})};function q(e){e.setApiRefresh;var t=e.deck,c=e.newOrEditCard;return Object(o.jsxs)(n.Fragment,{children:[Object(o.jsx)(b.b,{to:"edit?"===c?"/":"/decks/".concat(t.id),className:"btn",children:"new"===c?"done":"Cancel"}),Object(o.jsx)("button",{type:"submit",children:"Submit"})]})}var z=function(e){var t=e.newOrEditCard,c=e.setApiRefresh,r=e.apiRefresh,a=e.deck,s=e.thisCard;console.log(s,"this card");var j=Object(i.f)(),b=Object(n.useState)(!1),u=Object(d.a)(b,2),l=u[0],O=u[1],f="edit"===t?s.front:"",p="edit"===t?s.back:"",x=Object(n.useState)({front:f,back:p}),k=Object(d.a)(x,2),v=k[0],m=k[1];Object(n.useEffect)((function(){"edit"===t&&!v.front&&s&&!1===l&&m(Object(h.a)({},s))}),[t,v.front,s,l]);var g=function(){(function(e,t,c){return D.apply(this,arguments)})(a.id,v).then((function(e){m({front:"",back:""}),c(r+1)}))},w=function(){(function(e,t){return T.apply(this,arguments)})(v).then((function(e){c(r+1),j.push("/decks/".concat(a.id))}))};return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Edit Card"}),Object(o.jsxs)("form",{onSubmit:"edit"===t?function(e){e.preventDefault(),w()}:function(e){e.preventDefault(),g()},children:[Object(o.jsxs)("label",{children:["Front",Object(o.jsx)("textarea",{value:v.front,onChange:function(e){var t=e.target;O(!0),m(Object(h.a)(Object(h.a)({},v),{},{front:t.value}))},placeholder:"front placeholder"})]}),Object(o.jsx)("br",{}),Object(o.jsxs)("label",{children:["Back",Object(o.jsx)("textarea",{value:v.back,onChange:function(e){var t=e.target;O(!0),m(Object(h.a)(Object(h.a)({},v),{},{back:t.value}))},placeholder:"back placeholder"})]}),Object(o.jsx)("br",{}),Object(o.jsx)(q,{newOrEditCard:t,setApiRefresh:c,deck:a})]})]})};var G=function(e){var t=Object(i.g)(),c=t.cardId,r=t.deckId,a=e.apiRefresh,s=e.setApiRefresh,j=Object(n.useState)("edit"),u=Object(d.a)(j,1)[0],h=Object(n.useState)({}),l=Object(d.a)(h,2),O=l[0],f=l[1],p=Object(n.useState)({}),x=Object(d.a)(p,2),k=x[0],v=x[1];return Object(n.useEffect)((function(){y(r).then((function(e){v(e),N(c).then(f)}))}),[a,c,k,r]),Object(o.jsxs)("div",{children:[Object(o.jsxs)("h5",{children:[Object(o.jsx)(b.b,{to:"/",children:"Home"}),"/",Object(o.jsx)(b.b,{to:"/decks/".concat(k.id),children:"".concat(k.name)}),"/Edit Card ".concat(c)]}),Object(o.jsx)(z,{deck:k,newOrEditCard:u,apiRefresh:a,setApiRefresh:s,thisCard:O})]})};var Q=function(e){var t=Object(i.g)().deckId,c=Object(n.useState)([]),r=Object(d.a)(c,2),a=r[0],s=r[1],j=Object(n.useState)("new"),u=Object(d.a)(j,1)[0],h=e.apiRefresh,l=e.setApiRefresh;return Object(n.useEffect)((function(){y(t).then(s)}),[t]),Object(o.jsxs)("div",{children:[Object(o.jsxs)("h5",{children:[Object(o.jsx)(b.b,{to:"/",children:"Home"}),"/",Object(o.jsx)(b.b,{to:"/decks/".concat(a.id,"/"),children:a.name}),"/Add Card"]}),Object(o.jsx)("h2",{children:"".concat(a.name,":Add Card")}),Object(o.jsx)(z,{setApiRefresh:l,apiRefresh:h,newOrEditCard:u,deck:a})]})};var X=function(){var e=Object(n.useState)(1),t=Object(d.a)(e,2),c=t[0],r=t[1];return Object(o.jsxs)(n.Fragment,{children:[Object(o.jsx)(j,{}),Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)(i.c,{children:[Object(o.jsxs)(i.a,{exact:!0,path:"/",children:[Object(o.jsx)(b.b,{to:"/decks/new",children:"Create Deck"}),Object(o.jsx)(B,{apiRefresh:c,setApiRefresh:r})]}),Object(o.jsx)(i.a,{path:"/decks/new",children:Object(o.jsx)(J,{apiRefresh:c,setApiRefresh:r})}),Object(o.jsx)(i.a,{path:"/decks/:deckId/cards/new",children:Object(o.jsx)(Q,{apiRefresh:c,setApiRefresh:r})}),Object(o.jsx)(i.a,{path:"/decks/:deckId/edit",children:Object(o.jsx)(V,{apiRefresh:c,setApiRefresh:r})}),Object(o.jsx)(i.a,{path:"/decks/:deckId/study",children:Object(o.jsx)(M,{apiRefresh:c,setApiRefresh:r})}),Object(o.jsx)(i.a,{path:"/decks/:deckId/cards/:cardId/edit",children:Object(o.jsx)(G,{apiRefresh:c,setApiRefresh:r})}),Object(o.jsx)(i.a,{exact:!0,path:"/decks/:deckId",children:Object(o.jsx)(U,{apiRefresh:c,setApiRefresh:r})}),Object(o.jsx)(i.a,{children:Object(o.jsx)(u,{})})]})})]})};var Z=function(){return Object(o.jsx)("div",{className:"app-routes",children:Object(o.jsx)(i.c,{children:Object(o.jsx)(i.a,{path:"/",children:Object(o.jsx)(X,{})})})})};s.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(b.a,{children:Object(o.jsx)(Z,{})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.75618ddc.chunk.js.map